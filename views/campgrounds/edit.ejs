<% layout('layouts/boilerplate') %>

<section CLASS="container">
   <div class="row  m-0 py-md-5">
	   <div class="col-12">
		   <h1 class="text-center my-2 py-2" >Edit <%= campground.title %> </h1>
		   <div class="formBox">
		   <form id="editForm" action="/campgrounds/<%= campground._id %>?_method=PUT" method="POST" novalidate 
				 class="validated-form" enctype="multipart/form-data" >
					<div class="mb-3">
						<label class="form-label fw-bold" for="title">Title:</label>
						<input class="form-control" type="text" id="title" name=campground[title] placeholder="campground"
							value="<%= campground.title %>" required>
						<div class="valid-feedback">
								Looks good!
						</div>
					</div>

					<div class="mb-3">
						<label class="form-label fw-bold" for="location">Location:</label>
						<input class="form-control" type="text" id="location" name=campground[location] placeholder="location"
							value="<%= campground.location %>" required>
						<div class="valid-feedback">
								Looks good!
						</div>
					</div>

					<div class="mb-3">
					  <label for="image" class="form-label fw-bold">Add more images:</label>
					  <input class="form-control" type="file" name="image" id="image" multiple>
					</div>
                 
					<div class="mb-3">
						<label class="form-label fw-bold" for="price"> Campground Price:</label>
						<div class="input-group">
							<span class="input-group-text" id="price-label">$</span>
							<input type="text" name="campground[price]" class="form-control" id='price' placeholder="0.00"
								aria-label="price" aria-describedby="price-label" value="<%= campground.price %>" required>
							<div class="valid-feedback">
								Nice Price
							</div>
						</div>
					</div>

					<div class="mb-3">
						<label class="form-label fw-bold" for="description">Description:</label>
						<textarea class="form-control" type="text" required id="title" name=campground[description]
							placeholder="description"> <%= campground.description %> </textarea>
						<div class="valid-feedback">
								Lovely!
						</div>
					</div>

           
					<div class="mb-3 text-center">
						<button type="submit" class="btn btn-dark">Update Campground</button>
					</div>
            </form>
           </div>
	   </div>
	   <hr>
	   <!-- DELETE SECTION -->
	   <div class="col">
		   <h1 class="text-center mb-4">YOUR COLLECTION</h1>
		 <div class="row">
		   <% campground.images.forEach(function(img, i){ %>
		   <div class="col-md-4">
		       <div class="card w-100 mb-3">
				  <img src="<%= img.url%>" style="height: 20rem;" class="card-img-top" alt="...">
				  <div class="card-body bg-dark">
					<div class="form-check">
					  <input class="form-check-input" type="checkbox" name="deleteImages[]" id="image-<%= i %>" value="<%= img.filename %>">
					  <label class="form-check-label fw-bold text-danger" for="image-<%= i %>">
						Delete
					  </label>
					</div>
				  </div>
			  </div>
			 </div>
		   <% }) %>
		 </div>
	   </div>
	   
   </div>
</section>